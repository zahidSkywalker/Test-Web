{"ast":null,"code":"import _objectSpread from\"/workspace/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useMemo,useState}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const defaultForm={name:'',shortDescription:'',description:'',price:'',originalPrice:'',category:'',brand:'',stock:'',isFeatured:false,isNew:false,tags:''};const AdminProducts=()=>{const[products,setProducts]=useState([]);const[categories,setCategories]=useState([]);const[page,setPage]=useState(1);const[totalPages,setTotalPages]=useState(1);const[loading,setLoading]=useState(false);const[form,setForm]=useState(defaultForm);const[images,setImages]=useState([]);const[mainImage,setMainImage]=useState('');const[saving,setSaving]=useState(false);const[search,setSearch]=useState('');const fetchCategories=async()=>{const res=await axios.get('/api/categories');setCategories(res.data);};const fetchProducts=async function(){let p=arguments.length>0&&arguments[0]!==undefined?arguments[0]:page;let q=arguments.length>1&&arguments[1]!==undefined?arguments[1]:search;setLoading(true);try{const res=await axios.get(\"/api/products/admin?page=\".concat(p,\"&limit=20&search=\").concat(encodeURIComponent(q)));setProducts(res.data.products);setTotalPages(res.data.pagination.totalPages);}finally{setLoading(false);}};useEffect(()=>{fetchCategories();},[]);useEffect(()=>{fetchProducts();},[page]);const handleFileSelect=e=>{const files=Array.from(e.target.files||[]);setImages(files);};const uploadImages=async()=>{if(images.length===0)return[];const data=new FormData();images.forEach(f=>data.append('images',f));const res=await axios.post('/api/products/upload',data,{headers:{'Content-Type':'multipart/form-data'}});return res.data.urls;};const handleCreate=async e=>{e.preventDefault();setSaving(true);try{const urls=await uploadImages();const payload=_objectSpread(_objectSpread({},form),{},{price:Number(form.price),originalPrice:form.originalPrice?Number(form.originalPrice):undefined,stock:Number(form.stock||0),tags:form.tags?form.tags.split(',').map(t=>t.trim()):[],images:urls,mainImage:mainImage||urls[0]});const res=await axios.post('/api/products',payload);setForm(defaultForm);setImages([]);setMainImage('');setPage(1);await fetchProducts(1);alert('Product created');}catch(err){var _err$response,_err$response$data;alert(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||'Create failed');}finally{setSaving(false);}};const handleDelete=async id=>{// eslint-disable-next-line no-restricted-globals\nif(!window.confirm('Soft delete this product?'))return;await axios.delete(\"/api/products/\".concat(id));await fetchProducts();};return/*#__PURE__*/_jsxs(\"div\",{className:\"p-4\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl font-semibold mb-4\",children:\"Admin Products\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6 p-4 border rounded\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"font-semibold mb-2\",children:\"Create Product\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleCreate,className:\"grid gap-3 md:grid-cols-2\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"border p-2\",placeholder:\"Name\",value:form.name,onChange:e=>setForm(f=>_objectSpread(_objectSpread({},f),{},{name:e.target.value})),required:true}),/*#__PURE__*/_jsx(\"input\",{className:\"border p-2\",placeholder:\"Short Description\",value:form.shortDescription,onChange:e=>setForm(f=>_objectSpread(_objectSpread({},f),{},{shortDescription:e.target.value})),required:true}),/*#__PURE__*/_jsx(\"input\",{className:\"border p-2\",placeholder:\"Brand\",value:form.brand,onChange:e=>setForm(f=>_objectSpread(_objectSpread({},f),{},{brand:e.target.value}))}),/*#__PURE__*/_jsx(\"input\",{className:\"border p-2\",placeholder:\"Price\",type:\"number\",step:\"0.01\",value:form.price,onChange:e=>setForm(f=>_objectSpread(_objectSpread({},f),{},{price:e.target.value})),required:true}),/*#__PURE__*/_jsx(\"input\",{className:\"border p-2\",placeholder:\"Original Price\",type:\"number\",step:\"0.01\",value:form.originalPrice,onChange:e=>setForm(f=>_objectSpread(_objectSpread({},f),{},{originalPrice:e.target.value}))}),/*#__PURE__*/_jsx(\"input\",{className:\"border p-2\",placeholder:\"Stock\",type:\"number\",value:form.stock,onChange:e=>setForm(f=>_objectSpread(_objectSpread({},f),{},{stock:e.target.value}))}),/*#__PURE__*/_jsxs(\"select\",{className:\"border p-2\",value:form.category,onChange:e=>setForm(f=>_objectSpread(_objectSpread({},f),{},{category:e.target.value})),required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Category\"}),categories.map(c=>/*#__PURE__*/_jsx(\"option\",{value:c._id,children:c.name},c._id))]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:form.isFeatured,onChange:e=>setForm(f=>_objectSpread(_objectSpread({},f),{},{isFeatured:e.target.checked}))}),\" Featured\"]}),/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:form.isNew,onChange:e=>setForm(f=>_objectSpread(_objectSpread({},f),{},{isNew:e.target.checked}))}),\" New\"]})]}),/*#__PURE__*/_jsx(\"textarea\",{className:\"border p-2 md:col-span-2\",placeholder:\"Description\",rows:4,value:form.description,onChange:e=>setForm(f=>_objectSpread(_objectSpread({},f),{},{description:e.target.value})),required:true}),/*#__PURE__*/_jsx(\"input\",{className:\"border p-2 md:col-span-2\",placeholder:\"Tags (comma-separated)\",value:form.tags,onChange:e=>setForm(f=>_objectSpread(_objectSpread({},f),{},{tags:e.target.value}))}),/*#__PURE__*/_jsxs(\"div\",{className:\"md:col-span-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block mb-2\",children:\"Images\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",multiple:true,onChange:handleFileSelect})]}),/*#__PURE__*/_jsx(\"input\",{className:\"border p-2 md:col-span-2\",placeholder:\"Main image URL (optional, else first upload is used)\",value:mainImage,onChange:e=>setMainImage(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{disabled:saving,className:\"bg-black text-white px-4 py-2 rounded md:col-span-2\",children:saving?'Saving...':'Create Product'})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3 flex gap-2\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"border p-2 flex-1\",placeholder:\"Search products\",value:search,onChange:e=>setSearch(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{className:\"border px-3\",onClick:()=>{setPage(1);fetchProducts(1,search);},children:\"Search\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"border rounded\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"w-full text-left\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"border-b\",children:[/*#__PURE__*/_jsx(\"th\",{className:\"p-2\",children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{className:\"p-2\",children:\"Price\"}),/*#__PURE__*/_jsx(\"th\",{className:\"p-2\",children:\"Stock\"}),/*#__PURE__*/_jsx(\"th\",{className:\"p-2\",children:\"Active\"}),/*#__PURE__*/_jsx(\"th\",{className:\"p-2\",children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:loading?/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{className:\"p-2\",colSpan:\"5\",children:\"Loading...\"})}):products.map(p=>/*#__PURE__*/_jsxs(\"tr\",{className:\"border-b\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"p-2\",children:p.name}),/*#__PURE__*/_jsx(\"td\",{className:\"p-2\",children:p.price}),/*#__PURE__*/_jsx(\"td\",{className:\"p-2\",children:p.stock}),/*#__PURE__*/_jsx(\"td\",{className:\"p-2\",children:p.isActive?'Yes':'No'}),/*#__PURE__*/_jsx(\"td\",{className:\"p-2\",children:/*#__PURE__*/_jsx(\"button\",{className:\"text-red-600\",onClick:()=>handleDelete(p._id),children:\"Delete\"})})]},p._id))})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"border px-2\",disabled:page<=1,onClick:()=>setPage(p=>Math.max(1,p-1)),children:\"Prev\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Page \",page,\" / \",totalPages]}),/*#__PURE__*/_jsx(\"button\",{className:\"border px-2\",disabled:page>=totalPages,onClick:()=>setPage(p=>p+1),children:\"Next\"})]})]});};export default AdminProducts;","map":{"version":3,"names":["React","useEffect","useMemo","useState","axios","jsx","_jsx","jsxs","_jsxs","defaultForm","name","shortDescription","description","price","originalPrice","category","brand","stock","isFeatured","isNew","tags","AdminProducts","products","setProducts","categories","setCategories","page","setPage","totalPages","setTotalPages","loading","setLoading","form","setForm","images","setImages","mainImage","setMainImage","saving","setSaving","search","setSearch","fetchCategories","res","get","data","fetchProducts","p","arguments","length","undefined","q","concat","encodeURIComponent","pagination","handleFileSelect","e","files","Array","from","target","uploadImages","FormData","forEach","f","append","post","headers","urls","handleCreate","preventDefault","payload","_objectSpread","Number","split","map","t","trim","alert","err","_err$response","_err$response$data","response","message","handleDelete","id","window","confirm","delete","className","children","onSubmit","placeholder","value","onChange","required","type","step","c","_id","checked","rows","multiple","disabled","onClick","colSpan","isActive","Math","max"],"sources":["/workspace/client/src/pages/Admin/Products.js"],"sourcesContent":["import React, { useEffect, useMemo, useState } from 'react';\nimport axios from 'axios';\n\nconst defaultForm = {\n  name: '',\n  shortDescription: '',\n  description: '',\n  price: '',\n  originalPrice: '',\n  category: '',\n  brand: '',\n  stock: '',\n  isFeatured: false,\n  isNew: false,\n  tags: '',\n};\n\nconst AdminProducts = () => {\n  const [products, setProducts] = useState([]);\n  const [categories, setCategories] = useState([]);\n  const [page, setPage] = useState(1);\n  const [totalPages, setTotalPages] = useState(1);\n  const [loading, setLoading] = useState(false);\n  const [form, setForm] = useState(defaultForm);\n  const [images, setImages] = useState([]);\n  const [mainImage, setMainImage] = useState('');\n  const [saving, setSaving] = useState(false);\n  const [search, setSearch] = useState('');\n\n  const fetchCategories = async () => {\n    const res = await axios.get('/api/categories');\n    setCategories(res.data);\n  };\n\n  const fetchProducts = async (p = page, q = search) => {\n    setLoading(true);\n    try {\n      const res = await axios.get(`/api/products/admin?page=${p}&limit=20&search=${encodeURIComponent(q)}`);\n      setProducts(res.data.products);\n      setTotalPages(res.data.pagination.totalPages);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchCategories();\n  }, []);\n\n  useEffect(() => {\n    fetchProducts();\n  }, [page]);\n\n  const handleFileSelect = (e) => {\n    const files = Array.from(e.target.files || []);\n    setImages(files);\n  };\n\n  const uploadImages = async () => {\n    if (images.length === 0) return [];\n    const data = new FormData();\n    images.forEach(f => data.append('images', f));\n    const res = await axios.post('/api/products/upload', data, {\n      headers: { 'Content-Type': 'multipart/form-data' }\n    });\n    return res.data.urls;\n  };\n\n  const handleCreate = async (e) => {\n    e.preventDefault();\n    setSaving(true);\n    try {\n      const urls = await uploadImages();\n      const payload = {\n        ...form,\n        price: Number(form.price),\n        originalPrice: form.originalPrice ? Number(form.originalPrice) : undefined,\n        stock: Number(form.stock || 0),\n        tags: form.tags ? form.tags.split(',').map(t => t.trim()) : [],\n        images: urls,\n        mainImage: mainImage || urls[0]\n      };\n      const res = await axios.post('/api/products', payload);\n      setForm(defaultForm);\n      setImages([]);\n      setMainImage('');\n      setPage(1);\n      await fetchProducts(1);\n      alert('Product created');\n    } catch (err) {\n      alert(err.response?.data?.message || 'Create failed');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleDelete = async (id) => {\n    // eslint-disable-next-line no-restricted-globals\n    if (!window.confirm('Soft delete this product?')) return;\n    await axios.delete(`/api/products/${id}`);\n    await fetchProducts();\n  };\n\n  return (\n    <div className=\"p-4\">\n      <h1 className=\"text-xl font-semibold mb-4\">Admin Products</h1>\n\n      <div className=\"mb-6 p-4 border rounded\">\n        <h2 className=\"font-semibold mb-2\">Create Product</h2>\n        <form onSubmit={handleCreate} className=\"grid gap-3 md:grid-cols-2\">\n          <input className=\"border p-2\" placeholder=\"Name\" value={form.name} onChange={e=>setForm(f=>({...f,name:e.target.value}))} required />\n          <input className=\"border p-2\" placeholder=\"Short Description\" value={form.shortDescription} onChange={e=>setForm(f=>({...f,shortDescription:e.target.value}))} required />\n          <input className=\"border p-2\" placeholder=\"Brand\" value={form.brand} onChange={e=>setForm(f=>({...f,brand:e.target.value}))} />\n          <input className=\"border p-2\" placeholder=\"Price\" type=\"number\" step=\"0.01\" value={form.price} onChange={e=>setForm(f=>({...f,price:e.target.value}))} required />\n          <input className=\"border p-2\" placeholder=\"Original Price\" type=\"number\" step=\"0.01\" value={form.originalPrice} onChange={e=>setForm(f=>({...f,originalPrice:e.target.value}))} />\n          <input className=\"border p-2\" placeholder=\"Stock\" type=\"number\" value={form.stock} onChange={e=>setForm(f=>({...f,stock:e.target.value}))} />\n          <select className=\"border p-2\" value={form.category} onChange={e=>setForm(f=>({...f,category:e.target.value}))} required>\n            <option value=\"\">Select Category</option>\n            {categories.map(c => (\n              <option key={c._id} value={c._id}>{c.name}</option>\n            ))}\n          </select>\n          <div className=\"flex items-center gap-4\">\n            <label className=\"flex items-center gap-2\"><input type=\"checkbox\" checked={form.isFeatured} onChange={e=>setForm(f=>({...f,isFeatured:e.target.checked}))} /> Featured</label>\n            <label className=\"flex items-center gap-2\"><input type=\"checkbox\" checked={form.isNew} onChange={e=>setForm(f=>({...f,isNew:e.target.checked}))} /> New</label>\n          </div>\n          <textarea className=\"border p-2 md:col-span-2\" placeholder=\"Description\" rows={4} value={form.description} onChange={e=>setForm(f=>({...f,description:e.target.value}))} required />\n          <input className=\"border p-2 md:col-span-2\" placeholder=\"Tags (comma-separated)\" value={form.tags} onChange={e=>setForm(f=>({...f,tags:e.target.value}))} />\n          <div className=\"md:col-span-2\">\n            <label className=\"block mb-2\">Images</label>\n            <input type=\"file\" multiple onChange={handleFileSelect} />\n          </div>\n          <input className=\"border p-2 md:col-span-2\" placeholder=\"Main image URL (optional, else first upload is used)\" value={mainImage} onChange={e=>setMainImage(e.target.value)} />\n          <button disabled={saving} className=\"bg-black text-white px-4 py-2 rounded md:col-span-2\">{saving ? 'Saving...' : 'Create Product'}</button>\n        </form>\n      </div>\n\n      <div className=\"mb-3 flex gap-2\">\n        <input className=\"border p-2 flex-1\" placeholder=\"Search products\" value={search} onChange={e=>setSearch(e.target.value)} />\n        <button className=\"border px-3\" onClick={()=>{setPage(1); fetchProducts(1, search);}}>Search</button>\n      </div>\n\n      <div className=\"border rounded\">\n        <table className=\"w-full text-left\">\n          <thead>\n            <tr className=\"border-b\">\n              <th className=\"p-2\">Name</th>\n              <th className=\"p-2\">Price</th>\n              <th className=\"p-2\">Stock</th>\n              <th className=\"p-2\">Active</th>\n              <th className=\"p-2\">Actions</th>\n            </tr>\n          </thead>\n          <tbody>\n            {loading ? (\n              <tr><td className=\"p-2\" colSpan=\"5\">Loading...</td></tr>\n            ) : (\n              products.map(p => (\n                <tr key={p._id} className=\"border-b\">\n                  <td className=\"p-2\">{p.name}</td>\n                  <td className=\"p-2\">{p.price}</td>\n                  <td className=\"p-2\">{p.stock}</td>\n                  <td className=\"p-2\">{p.isActive ? 'Yes' : 'No'}</td>\n                  <td className=\"p-2\">\n                    <button className=\"text-red-600\" onClick={()=>handleDelete(p._id)}>Delete</button>\n                  </td>\n                </tr>\n              ))\n            )}\n          </tbody>\n        </table>\n      </div>\n\n      <div className=\"mt-3 flex items-center gap-2\">\n        <button className=\"border px-2\" disabled={page<=1} onClick={()=>setPage(p=>Math.max(1, p-1))}>Prev</button>\n        <span>Page {page} / {totalPages}</span>\n        <button className=\"border px-2\" disabled={page>=totalPages} onClick={()=>setPage(p=>p+1)}>Next</button>\n      </div>\n    </div>\n  );\n};\n\nexport default AdminProducts;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}